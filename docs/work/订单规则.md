# 订单规则

## 问题

1. ~~升级单、转换单产品校验~~
2. ~~ui权限~~
3. ~~流水金额校验~~
4. ~~升级单产品不能更改~~
5. ~~结算-结算包编号~~

## 其它

```js
orderMainProductType: row.orderMainProductType, // 1大课、2咨询、3工具包

{ name: '全款', value: 1 },
{ name: '订金', value: 2 },
{ name: '补款（未完款）', value: 3 },
{ name: '补款（完款）', value: 4 },
{ name: '收款（转课程）', value: 19 },
{ name: '试听', value: 5, pattern: 2 },
{ name: '复训', value: 6 },
{ name: '980工具课', value: 8 },
{ name: '个人垫付', value: 12, pattern: 2 },
{ name: '退款（个人垫付）', value: 13, pattern: 2 },
{ name: '0元流水', value: 20 },
{ name: '不详', value: 0 }
{ name: '收款（转课程）', value: 19 }

{ name: '退款（转课程）', value: 16 },
{ name: '退款（全款）', value: 7 },
{ name: '退款（完款退订金/个人）', value: 14 },
{ name: '退款（订金）', value: 11 },
{ name: '退款（重复打款）', value: 15 },
{ name: '退款（部分）', value: 17 },
{ name: '退款（转课程）', value: 16 },

this.$message.error('产品转换单，上级订单和本级订单服务项不可以完全重叠，请检查')
  return false
} else if (this.form.masterProductType === 3) {
  this.$message.error('产品升级单，上级订单和本级订单的服务项必须完全一致，请检查')
  return false
}
```

## 主订单-1

1. 不显示上级订单
2. 其他规则不变

## 产品转换单-2

1. ~~显示上级订单ids信息 只能看不能改-共同~~
2. ~~显示上级成交方式信息 可以改-共同~~
3. ~~显示上级订单信息 只能看不能改-续单不显示~~

## 产品升级单-3

1. ~~显示上级订单ids信息 只能看不能改~~
2. ~~显示上级成交方式信息 可以改~~
3. ~~显示上级订单信息 只能看不能改~~

## 续单-4

### 付费加名额

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 没有上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 允许添加新的体验劵
6. 显示上级服务 只能修改允许人数
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级成交单 只能看不能改

### 体验劵

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 没有上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 允许添加新的体验劵
6. 显示上级服务 都为0不能改
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级合同 都是0不能改
9. 显示上级成交单 只能看不能改
10. 流水信息默认值

### 复训

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 没有上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 不允许添加新的体验劵
6. 显示上级服务 都为0不能改
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级合同 都是0不能改
9. 显示上级成交单 只能看不能改

### 980工具课

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 没有上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 不允许添加新的体验劵
6. 显示上级服务 都为0不能改
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级合同 都是0不能改
9. 显示上级成交单 只能看不能改

### 咨询案

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 没有上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 不允许添加新的体验劵
6. 显示上级服务 只能看不能改
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级成交单 只能看不能改

## 退款单-5

### 非咨询类

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 显示上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 不允许添加新的体验劵
6. 显示上级服务 都为0不能改 允许修改人数----
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级合同信息 可以改
9. 显示上级成交单 只能看不能改

### 咨询类

1. 显示上级订单ids信息 只能看不能改
2. 显示上级成交方式信息 可以改
3. 显示上级订单信息
4. 显示上级产品及服务 只能看不能改
5. 不允许添加新的体验劵
6. 显示上级服务 只能看不能改-----
7. 显示上级工具包状态、OPP成交方式 只能看不能改
8. 显示上级合同信息 可以改
9. 显示上级成交单 只能看不能改
